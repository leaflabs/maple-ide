<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head><title>Maple Reference Documentation</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
<link rel="stylesheet" href="minimal.css" type="text/css">
</head><body> 
<!-- minimalist html; this is designed to be copy/pasted into a website -->
<!-- STARTDOC -->
<h1>Maple Development Quickstart</h1>

You'll need a Maple board, a mini-b USB cable, a functional computer, and
possibly root (or "administrator") access to that computer.
If you have trouble along the way try the <a href="./install.html">install
page</a> for more detailed download and installation instructions, and the
<a href="./troubleshooting.html">troubleshooting</a> page for help with some
common problems. if all else fails try <a href="http://google.com/?q=maple+help">google</a>, our <a href="http://forum.leaflabs.com">forum</a>, or <a href="http://leaflabs.com/contact">contact us directly</a>!

<p>
The major steps when starting fresh on a computer will be to:

<ul>
  <li>Download and install the IDE
  <li>Plug in the Maple and resolve driver issues
  <li>Load the IDE and upload a simple Blink program
  <li>Test the USB serial connection with a HelloWorld
</ul>

<h3>1. Download the IDE</h3>

The latest binary release of the Maple IDE for can be downloaded using the
links below. The package bundles together a compiler, an upload utility, a
software library, and a simple GUI text editor. All this
software is <a href="http://fsf.org">free and open</a>; we are grateful to the
<a href="http://arduino.cc">Arduino</a>, <a
href="http://www.codesourcery.com">Codesourcery</a>, <a
href="http://gnu.org">GNU</a>, and <a href="http://openmoko.com">OpenMoko</a>
developers, as well as many others, who allow us to reuse their software.

<table>
<tr>
  <td>Linux
  <td>Tested on Ubuntu 9.10 (64bit) and 10.04 (32bit)
  <td><a href="http://static.leaflabs.com/pub/leaflabs/maple-ide/maple-ide-LATEST-linux32.tgz">maple-ide-LATEST-linux32.tgz</a> (about 30mb)
  <br><a href="http://static.leaflabs.com/pub/leaflabs/maple-ide/maple-ide-LATEST-linux64.tgz">maple-ide-LATEST-linux64.tgz</a> (about 30mb)
<tr>
  <td>Mac OSX
  <td>Tested on Snow Leopard 10.6 (64bit and 32bit)
  <td><a href="http://static.leaflabs.com/pub/leaflabs/maple-ide/maple-ide-LATEST-macosx-10_6.dmg">maple-ide-LATEST-macosx-10_6.dmg</a> (about 40mb)
<tr>
  <td>Windows
  <td>Tested on 32bit Windows XP
  <td><a href="http://static.leaflabs.com/pub/leaflabs/maple-ide/maple-ide-LATEST-windowsxp32.zip">maple-ide-LATEST-windowsxp32.zip</a> (about 75mb)
</table>

<p>
The IDE is written in Java and requires a compatible runtime (JRE).  Our windows
release includes runtime, Mac OSX has one installed already, and it's pretty
easy to install one on Linux. If you don't have a JRE and dont know how to get
one setup see the <a href="./installation.html#java">installation page</a>.

<h3>2. Unzip it to a appropriate home</h3>

<p>
Once it's downloaded, you need to chose a place to unzip the IDE. Unless
you've got a special place of honor in mind just plop it on your desktop or in
your home folder. Make sure you actually extract the contents out of the
archive instead of running it live out of the archive file.

<p>
On <b><i>Linux only</i></b>, you'll want to run the
<code>install-udev-rules.sh</code> at this point; it will ask for root
perimissions, then you need to restart udev (<code>sudo /etc/init.d/udev
restart</code>). This will grant members of 'plugdev' read/write access to
Maple devices over USB.

<p>
On <b><i>Windows only</i></b>, you'll have to install drivers; see the 
<a href="./installation.html#windows">installation page</a>. Sorry!

<p>
On <b><i>Mac OS X only</i></b>, you can just drag and drop the Maple IDE folder
to install it in your applications folder. An ACM modem setup dialog will pop
up everytime you plug in the Maple; if you go to Network Settings and accept
the default ("unconfigured") settings the dialog won't pop up and everything
will work fine.

<h3>3. Run maple-ide</h3>

<p>
Double click, run from command line, or smash into the stack as appropriate!

<h3>4. Compile a program!</h3>

Let's load up a simple example program that blinks the status LED. From the
File menu select Examples, Digital, Blink. Go ahead and modify the file a
little bit: if you change the '<code>delay(1000);</code>' numbers to a
different value the speed of the blink will change. The value is a time in
milliseconds to pause before continuing with the program, so by default the
LED will be on for 1 second, then off for 1 second, etc.
<p>
<div class="centerimg">
<img src="./img/select_board.png" style="border: 2px black solid;">
</div>
<p>
Next select the Maple board from the Tools pull-down under Board. You have the
option between RAM and FLASH programming: FLASH saves the program into
permanent memory so the program will be run every time the Maple is reset,
while RAM simply injects the compiled program into the processor's memory.
Programming to RAM is faster to upload and a buggy program can be wiped away
with a simple reset, while FLASH memory is larger and is the only option for
permanently uploading a program.

<p>
<img src="./img/verify_button.png" style="border: 2px black solid; float:right; margin-left: 8px;">
Press the "verify" button (furthest to the left with a "play" arrow) to compile
the code. Unless you've got a persnickety typo you should eventually get back 
a confirmation message in the bottom pane.
<br>

<h3>5. Upload that program!</h3>

<div class="warningbox">
<h3>This is where our palms sweat...</h3>
This step was the hardest part for us to get working across several platforms
and is where a number of users run in to difficulty (especially on the many
flavors of Windows). We are working on a more robust software solution, but in
the meanwhile if you have trouble you could try repeating steps a few times,
power cycling the Maple, or restarting the IDE. Please let us know how
everything goes in the forums, the more datapoints the better!  
</div>

Now it's (finally!) time to plug in your Maple. Use a mini-b cable, making sure
that the power source jumper is on the USB header first. The Maple should blink
a short pattern on the blue status LED every time it is plugged in, reset, or
reprogrammed, just to let you know it's there. If it ever starts throbbing in a
slow, smooth pattern that means you've got a problem: see the <a href="./troubleshooting.html">troubleshooting page</a>.

<p>
<img src="./img/upload_button.png" style="border: 2px black solid; float:left; margin-right: 8px;">
If all systems are go, select the Board type and Serial Port (something like
<code>/dev/ttyACM0</code>, <code>/dev/cu.usbmodem5d21</code>, or
<code>COM3</code> depending on your platform) from the Tools menu. Then press
the "upload" button (right arrow to a bunch of dots) to upload your program to
the Maple. You should see some text and a progress bar flash by in the status
window of the IDE, then some blinky patterns on the Maple, and then a constant
blink with whatever time period you programmed in above.

<h3>6. Use the serial port monitor!</h3>
<p>
As a last step to make sure everything has been configured correctly, let's
upload a hello world program that will send text from the Maple back to the IDE
over the USB connection. From File select Examples, Stubs, HelloWorld, and make
sure the correct board and serial port targets are selected from the Tools
pull-down. And of course you could change the text to be printed out; make sure
you leave the double quotes around it though or you'll get a compile error.

<p>
<img src="./img/serial_button.png" style="border: 2px black solid; float:right; margin-left: 8px;">
Open the serial monitor window (button on the far right) and make sure the 9600
baud speed is selected. Then go back to the code editing window and upload your
program (upload will recompile your code automatically if there's been any
change since the last "verify"). You should get text spit at you over the
serial monitor right after the program is uploaded. Shout back! We can hear
you!

<h3>7. Go forth exuberantly!</h3>

We really hope you got this far and didn't frown or make a bitter lemon face
too often getting here. Where you go now is up to you: perhaps you've got some
crazy project cooking, or a longer tutorial to work through, or maybe now is a
good time for a trip to the kitchen for a delicious <a
href="http://everything2.com/title/Velvet+Elvis">sandwich</a>.

<p>
If you blew through this guide and are the kind of person who drinks their
coffee straight and has more than than a 100 lines of vim or emacs
customization and doesn't even have a mouse plugged into your computer you may
want to look at the <a
href="http://leaflabs.com/docs/libmaple/unix-toolchain/">Unix Toolchain
quickstart</a> guide to getting working with your old friends make, jtag, and
gcc.

<p>
Let us know what you come up with! Tag internet content with #leaflabs, post
in the <a href="http://forum.leaflabs.com">forums</a>, track us down in the
real world, whatever. We love projects!

<div class="box">
<h3><i>About this Document</i></h3>
A more recent version of this document may be available from the 
<a href="http://leaflabs.com">LeafLabs website</a>. Our documentation is
versioned on <a href="http://github.com">github</a>; you can track changes
to the master branch at <a href="http://github.com/leaflabs/maple-ide/tree/master/build/shared/reference/">this link</a>.
<p>
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
<img alt="Creative Commons License" style="border-width:0" 
    src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
<br /><i>This documentation is released under a 
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
Creative Commons Attribution-Share Alike 3.0</a> license.</i>
<p>
Translations are welcomed; give us a ping to make sure we aren't in the
process of revising or editing first.
</div>
<!-- ENDDOC -->
</body></html>
