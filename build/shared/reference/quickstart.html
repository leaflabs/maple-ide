<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head><title>Maple Reference Documentation</title>
<style type="text/css">
  body { margin: 25px; font-family: helvetica; }
  table,th,td { border: 1px solid black; }
  table { border-collapse: collapse; }
  td { padding: 8px; }
  .code { background-color: black; color: white; padding: 5px; width: 50em; 
          margin-left: 40px; border: 2px solid gray; }
</style></head> 
<body> 
<!-- minimalist html; this is designed to be copy/pasted into a website -->
<h1>Maple Development Quickstart</h1>

You'll need a maple board, a mini-b USB cable, a functional computer, and
possibly root (or "administrator") access to that computer.

<p>
If you have trouble along the way try the <a href="install.html">install
page</a> for more detailed download and installation instructions, and the
<a href="troubleshooting.html">troubleshooting</a> page for help with some
common problems. if all else fails try <a href="http://google.com/?q=maple+help">google</a>, our <a href="http://forum.leaflabs.com">forum</a>, or <a href="http://leaflabs.com/contact">contact us directly</a>!

<h3>1. Install Java if Necessary</h3>

The IDE is written in Java and requires a compatible runtime (JRE). Our windows
release includes runtime, Mac OSX has one installed already, and it's pretty
easy to install one on Linux. If you already have a JRE setup you can skip to
the next step; <a href="http://sun.com/java">Sun Java 1.6</a> and <a
href="http://openjdk.java.net/">OpenJDK 1.6</a> are known to work, and
runtimes mostly compatible with Sun Java 1.4+ should probably get the job
done. See the <a href="install.html">install page</a> for more details.

<p>
To install Java on a linux/unix system, try using your distribution's software
packaging tool and search for "JRE" or "java". On modern Debian-based systems
(including Ubuntu) you can try to install the OpenJDK 1.6 JRE with:

<pre class="code">
$ sudo aptitude install openjdk-6-jre
</pre>

<h3>2. Download the Maple IDE</h3>

The latest binary release of the Maple IDE for popular platforms can be
downloaded straight from LeafLabs's server using the links below. The package
bundles together a compiler, an upload utility, a software library, and a
simple GUI text editor to tie it all together.

<p>
All this software is <a href="http://fsf.org">free and open</a>, feel free to
redistribute, hack, and generally mess around with it! We're grateful to the
<a href="http://arduino.cc">Arduino</a>, <a
href="http://www.codesourcery.com">Codesourcery</a>, <a
href="http://gnu.org">GNU</a>, and <a href="http://openmoko.com">OpenMoko</a>
developers, as well as many others, who allow us to reuse their software.

<table>
<tr>
  <td>Linux
  <td>Tested on Ubuntu 9.10 (64bit) and 10.04 (32bit)
  <td><a href="http://static.leaflabs.net/pub/leaflabs/maple-ide/LATEST-linux32.tgz">LATEST-linux32.tgz</a> (about 30mb)
  <br><a href="http://static.leaflabs.net/pub/leaflabs/maple-ide/LATEST-linux64.tgz">LATEST-linux64.tgz</a> (about 30mb)
<tr>
  <td>Mac OSX
  <td>Tested on Snow Leopard
  <td><a href="http://static.leaflabs.net/pub/leaflabs/maple-ide/LATEST-macosx-10_6.dmg">LATEST-macosx-10_6.dmg</a> (about 55mb)
<tr>
  <td>Windows
  <td>Tested on 32bit XP
  <td><a href="http://static.leaflabs.net/pub/leaflabs/maple-ide/LATEST-windows.zip">LATEST-windows.zip</a> (about 70mb)
</table>

<p>
Again, see the install page for source code, developer snapshots, compilation
instructions, etc.

<h3>3. Unzip the IDE to a appropriate home</h3>

Once it's downloaded, you need to chose a place to unzip the IDE. Unless
you've got a special place of honor in mind just plop it on your desktop or in
your home folder. Your system should have a tool to deal with the file time of
the archive (gzipped tar files on Linux, .dmg archives on Mac OSX, and classic
.zip files on Windows); make sure you actually extract the contents out of the
archive instead of running it live out of the archive file.

<p>
On Linux the tar tool can be used from the command line a la:
<pre class="code">
$ tar -xvf maple-ide-SOMETHING.tgz
</pre>

<p>
In the long run you might want to move the extracted program around; that's
fine, your programs (sketches) and configuration options will be stored in your
home folder (changeable in the Preferences menu).

<h3>4. Install udev rules (Linux only)</h3>

As a security precaution, new USB devices like the Maple are accessible only by
the root user on Linux systems. It's thrilling to run around with root
permissions every now and then but in the long run it's safer to configure the
operating system to allow regular users access to the Maple when it's plugged
in.

<p>
Enter the unzipped maple-ide folder and run the install-udev-rules.sh script to
configure the system so that members of the "plugdev" group can access the
maple device automatically; it will ask for root permissions (via "sudo"). Or
you can manually copy the <code>45-maple.rules</code> file into
<code>/etc/udev/rules.d</code> and set the appropriate permissions.

<p>
If this doesn't work out for you (eg, an error gets thrown or later on you
can't upload your program or connect to the serial port) check the <a
href="install.html">install page</a> for more details and work arounds. As a
temporary or last resort measure you can run the entire IDE as root below
(<code>sudo maple-ide</code>).

<h3>5. Run maple-ide</h3>

Double click, run from command line, or smash into the stack as appropriate.

<h3>6. Compile a program!</h3>

Let's load up a simple example program that blinks the status LED. From the
File menu select Examples, Digital, Blink. Go ahead and modify the file a
little bit: if you change the '<code>delay(1000);</code>' numbers to a
different value the speed of the blink will change. The value is a time in
milliseconds to pause before continuing with the program, so by default the
LED will be on for 1 second, then off for 1 second, etc.

<p>
Next select the Maple board from the Tools pull-down under Board. You have the
option between RAM and FLASH programming: FLASH saves the program into
permanent memory so the program will be run every time the Maple is reset,
while RAM simply injects the compiled program into the processor's memory.
Programming to RAM is faster to upload and a buggy program can be wiped away
with a simple reset, while FLASH memory is larger and is the only option for
permanently uploading a program.


<p>
Press the "verify" button (furthest to the left with a "play" arrow) to compile
the code. Unless you've got a persnickety typo you should eventually get back 
a confirmation message in the bottom pane.

<h3>7. Upload that program!</h3>

Now it's (finally!) time to plug in your Maple. Use a mini-b cable, making sure
that the power source jumper is on the USB header first. The maple should blink
a short pattern on the blue status LED every time it is plugged in, reset, or
reprogrammed, just to let you know it's there. If it ever starts throbbing in a
slow, smooth pattern that means you've got a problem: see the <a href="troubleshooting.html">troubleshooting page</a>.

<p>
If all systems are go press the "upload" button (right arrow to a bunch of
dots) to upload your program to the maple. You should see some text and a
progress bar flash by in the status window of the IDE, then some blinky
patterns on the maple, and then a constant blink with whatever time period you
programmed in above.

<p>
Hurray!

<h3>8. Use the serial port monitor!</h3>

As a last step to make sure everything has been configured correctly, let's
upload a hello world program that will send text from the Maple back to the IDE
over the USB connection. From File select Examples, Maple, HelloWorld, and make
sure the correct board and serial port targets are selected from the Tools
pull-down. And of course you could change the text to be printed out; make sure
you leave the double quotes around it though or you'll get a compile error.

<p>
Open the serial monitor window (button on the far right) and make sure the 9600
baud speed is selected. Then go back to the code editing window and upload your
program (upload will recompile your code automatically if there's been any
change since the last "verify"). You should get text spit at you over the
serial monitor right after the program is uploaded. Shout back! We can hear
you!

<h3>9. Go forth exuberantly!</h3>

We really hope you got this far and didn't frown or make a bitter lemon face
too often getting here. Where you go now is up to you: perhaps you've got some
crazy project cooking, or a longer tutorial to work through, or maybe now is a
good time for a trip to the kitchen for a delicious <a
href="http://everything2.com/title/Velvet+Elvis">sandwich</a>.

<p>
If you blew through this guide and are the kind of person who drinks their
coffee straight and has more than than a 100 lines of vim or emacs
customization and doesn't even have a mouse plugged into your computer you may
want to look at the <a
href="http://leaflabs.com/docs/libmaple/gnu-quickstart/">GNU Toolchain
quickstart</a> guide to getting working with your old friends make, jtag, and
gcc.

<p>
Let us know what you come up with! Tag internet content with #leaflabs, post
in the <a href="http://forum.leaflabs.com">forums</a>, track us down in the
real world, whatever. We love projects!

<h3><i>About this Document</i></h3>
<p>
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
<img alt="Creative Commons License" style="border-width:0" 
    src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
<br /><i>This documentation is released under a 
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
Creative Commons Attribution-Share Alike 3.0</a> license.</i>

<p>
Translations are welcomed; give us a ping to make sure we aren't in the
process of revising or editing first.

<p>
Changelog:
<ul>
    <li>28 April 2010 [bnewbold]: initial writeup
</u>
</body></html>
